"use strict";let ButtonEventsService=Object.create(null,{create:{value:()=>{typeof deleteReminderAction!="undefined"&&$(deleteReminderAction).click(ButtonEventsService.openModalDeleteReminder),typeof saveDoneReminder!="undefined"&&$(saveDoneReminder).click(ButtonEventsService.doneReminder),typeof deleteReminder!="undefined"&&$(deleteReminder).click(ButtonEventsService.deleteReminder)}},openModalDeleteReminder:{value:n=>{actionDelete.value=n.target.getAttribute("idReminder"),n.preventDefault(),n.stopPropagation(),$(modalDelete).modal()}},doneReminder:{value:()=>{RemindersService.doneReminder({id:idReminderForDone.value,isDone:idReminderDone.value}).then(()=>location.href=location.origin).catch(n=>console.error(n))}},deleteReminder:{value:()=>{RemindersService.deleteReminder({id:actionDelete.value}).then(()=>location.href=location.origin).catch(n=>console.error(n))}}});"use strict";let GridEventsService=Object.create(null,{asc:{value:!0},column:{value:""},create:{value:()=>{typeof searchTable!="undefined"&&$(searchTable).keyup(GridEventsService.keyUpSearchTable),typeof theadReminders!="undefined"&&$(theadReminders).click(GridEventsService.clickSearchTable),typeof item_is_done!="undefined"&&$(item_is_done).click(GridEventsService.clickItemIsDone)}},keyUpSearchTable:{value:function(){var n=$(this).val().toUpperCase().trim();$("#tbodyReminders > tr").each((t,i)=>{var r=$($(i).children()[0]).text().toUpperCase(),u=$($(i).children()[1]).text().toUpperCase();r.indexOf(n)>-1||u.indexOf(n)>-1?$(i).show():$(i).hide()})}},clickSearchTable:{value:function(n){EventsService.asc=eval(n.target.getAttribute("asc-order"));var t=n.target.getAttribute("name");switch(t){case"title":EventsService.column=0;$("#tbodyReminders ").find("tr").sort(GridEventsService.sortTableText).appendTo($(tbodyReminders));break;case"limitDate":EventsService.column=1;$("#tbodyReminders ").find("tr").sort(GridEventsService.sortTableDate).appendTo($(tbodyReminders));break;case"isDone":EventsService.column=2;$("#tbodyReminders ").find("tr").sort(GridEventsService.sortTableCheckbox).appendTo($(tbodyReminders))}EventsService.asc?($("#arrow"+t).removeClass("glyphicon-chevron-up"),$("#arrow"+t).addClass("glyphicon-chevron-down")):($("#arrow"+t).removeClass("glyphicon-chevron-down"),$("#arrow"+t).addClass("glyphicon-chevron-up"));n.target.setAttribute("asc-order",!EventsService.asc)}},clickItemIsDone:{value:function(n){idReminderForDone.value=n.target.getAttribute("idReminder");idReminderDone.value=n.target.checked;n.preventDefault();n.stopPropagation();$(modalDone).modal();eval(idReminderDone.value)?($("#doneReminderHead").removeClass("hideHeadModal"),$("#doneReminderText").removeClass("hideTextModal")):($("#enableReminderHead").removeClass("hideHeadModal"),$("#enableReminderText").removeClass("hideTextModal"))}},sortTableText:{value:function(n,t){var i=$($("td",n)[EventsService.column]).text(),r=$($("td",t)[EventsService.column]).text();return EventsService.asc?i.localeCompare(r):r.localeCompare(i)}},sortTableDate:{value:function(n,t){var i=$($("td",n)[EventsService.column]).text().split("/"),r=$($("td",t)[EventsService.column]).text().split("/"),u=new Date(i[2],i[1],i[0]),f=new Date(r[2],r[1],r[0]);return u<f?EventsService.asc?-1:1:u>f?EventsService.asc?1:-1:0}},sortTableCheckbox:{value:function(n,t){var i=$($("td",n)[EventsService.column]).find("input").is(":checked"),r=$($("td",t)[EventsService.column]).find("input").is(":checked");return i&&!r?EventsService.asc?-1:1:!i&&r?EventsService.asc?1:-1:0}}});"use strict";let InputEventsService=Object.create(null,{create:{value:()=>{typeof limit_date!="undefined"&&(limit_date.value=(new Date).toDateInputValue(),$(limit_date).keydown(InputEventsService.keyDownLimitDate))}},keyDownLimitDate:{value:n=>{(n.which==8||n.which==46)&&n.preventDefault()}}});"use strict";let PrototypeService=Object.create(null,{registerAll:{value:()=>{Date.prototype.toDateInputValue=function(){var n=new Date(this);return n.setMinutes(this.getMinutes()-this.getTimezoneOffset()),n.toJSON().slice(0,10)}}}});"use strict";let NotificationService=Object.create(null,{verifyNotificationServer:{value:()=>{if(document.cookie.indexOf("StatusMessage")>-1){var n=JSON.parse(decodeURIComponent(document.cookie.split("StatusMessage")[1].replace("=","")));switch(n.type_message){case 0:$("#messageNotification div").addClass("alert-success");break;default:$("#messageNotification div").addClass("alert-error")}$("#messageNotification div").text(n.text_message);$("#messageNotification").fadeIn("slow");setTimeout(()=>{$("#messageNotification").fadeOut("slow")},2e3);document.cookie="StatusMessage=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}}},showNotificationSuccess:{value:n=>{$("#messageNotification div").addClass("alert-success"),$("#messageNotification div").text(n),$("#messageNotification").fadeIn("slow")}},showNotificationError:{value:n=>{$("#messageNotification div").addClass("alert-error"),$("#messageNotification div").text(n),$("#messageNotification").fadeIn("slow")}}});"use strict";let EventsService=Object.create(null,{register:{value:()=>{GridEventsService.create(),ButtonEventsService.create(),InputEventsService.create(),ButtonEventsService.create()}}});"use strict";let RemindersService=Object.create(null,{doneReminder:{value:n=>RemindersRepository.doneReminder(n)},deleteReminder:{value:n=>RemindersRepository.deleteReminder(n)}});"use strict";let RemindersRepository=Object.create(null,{doneReminder:{value:n=>RequestApi.post("Reminder/DoneReminder",n)},deleteReminder:{value:n=>RequestApi.post("Reminder/Delete",n)}});"use strict";let RequestApi=Object.create(null,{ajaxRequest:{value:()=>{let n=!1;if(window.XMLHttpRequest)n=new XMLHttpRequest;else if(window.ActiveXObject)try{n=new ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{n=new ActiveXObject("Microsoft.XMLHTTP")}catch(i){n=!1}}return n}},get:{value:n=>new Promise((t,i)=>{let r=RequestApi.ajaxRequest();r&&(r.onreadystatechange=()=>{r.readyState==4&&(r.status==200||r.status==304?t(JSON.parse(r.response)):i(Error(r.statusText)))},r.open("GET",n,!0),r.send(null))})},post:{value:(n,t)=>new Promise((i,r)=>{let u=RequestApi.ajaxRequest();if(u){u.onreadystatechange=()=>{if(u.readyState==4)if(u.status==200||u.status==304){if(u.response===""){i("");return}i(JSON.parse(u.response))}else r(Error(u.statusText))};var f=new FormData;for(const n in t)f.append(n,t[n]);u.open("POST",n,!0);u.send(f)}})}});"use strict";let RemidersApp=Object.create(null,{init:{value:()=>{PrototypeService.registerAll(),EventsService.register(),NotificationService.verifyNotificationServer()}}});$(function(){RemidersApp.init()});