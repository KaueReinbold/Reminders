version: '3.4'

services:

  # Apps

  dotnet-api:
    image: kauereinbold/reminders-dotnet-api
    profiles:
      - production

  mvc:
    image: kauereinbold/reminders-mvc
    profiles:
      - production

  # Database

  postgres:
    profiles:
          - production

  # Load Balancer

  nginx: 
    profiles:
      - production

networks:
  default:
    name: 'reminders-network'
    driver: bridge